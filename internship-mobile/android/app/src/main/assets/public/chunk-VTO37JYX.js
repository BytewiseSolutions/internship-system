import{a as F}from"./chunk-ZI2MEB23.js";import{a as j,t as z,v as R}from"./chunk-OSMB4DQJ.js";import{A as h,B as _,I as C,L as b,R as P,V as T,W as y,X as I,_ as S,ca as k,da as O,i as g,j as u,k as M,ka as L,l as w,m,ma as v,n as t,na as E,o as n,p as c,r as p,ta as x,ua as B,v as s,va as D,ya as W,z as f,za as N}from"./chunk-6NGTZMOM.js";import"./chunk-447CKG3T.js";import"./chunk-CDZFCBFW.js";import"./chunk-E2CLONXR.js";import"./chunk-KRDHHS7Z.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function H(r,o){r&1&&(t(0,"span"),s(1,"Sign In"),n())}function A(r,o){r&1&&(t(0,"span"),s(1,"Signing In..."),n())}var ee=(()=>{let o=class o{constructor(i,a){this.router=i,this.authService=a,this.email="",this.password="",this.isLoading=!1,this.showToast=!1,this.toastMessage="",this.toastColor="danger",j({mailOutline:R,lockClosedOutline:z})}login(){if(!this.email||!this.password){this.showToastMessage("Please fill in all fields","warning");return}this.isLoading=!0,this.authService.login(this.email,this.password).subscribe({next:i=>{if(this.isLoading=!1,i.message==="Login successful"){if(i.role!=="STUDENT"){this.showToastMessage("Mobile app is only for students","warning");return}this.showToastMessage("Login successful!","success"),setTimeout(()=>{this.router.navigate(["/tabs/home"])},1e3)}else this.showToastMessage(i.message||"Login failed","danger")},error:i=>{this.isLoading=!1,this.showToastMessage(i.error?.message||"Network error. Please try again.","danger")}})}goToRegister(){this.router.navigate(["/register"])}showToastMessage(i,a){this.toastMessage=i,this.toastColor=a,this.showToast=!0}};o.\u0275fac=function(a){return new(a||o)(u(P),u(F))},o.\u0275cmp=M({type:o,selectors:[["app-login"]],decls:28,vars:9,consts:[["color","primary"],["slot","start"],["defaultHref","/landing"],[1,"login-content"],[1,"login-container"],[1,"login-form"],[1,"input-item"],["name","mail-outline","slot","start"],["type","email","placeholder","Email","fill","outline",3,"ngModelChange","ngModel"],["name","lock-closed-outline","slot","start"],["type","password","placeholder","Password","fill","outline",3,"ngModelChange","ngModel"],["expand","block","size","large",1,"login-button",3,"click","disabled"],[4,"ngIf"],[1,"register-link"],[1,"link",3,"click"],[3,"didDismiss","isOpen","message","duration","color"]],template:function(a,e){a&1&&(t(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),c(3,"ion-back-button",2),n(),t(4,"ion-title"),s(5,"Sign In"),n()()(),t(6,"ion-content",3)(7,"div",4)(8,"div",5)(9,"h1"),s(10,"Welcome Back"),n(),t(11,"p"),s(12,"Sign in to continue your internship journey"),n(),t(13,"ion-item",6),c(14,"ion-icon",7),t(15,"ion-input",8),_("ngModelChange",function(l){return h(e.email,l)||(e.email=l),l}),n()(),t(16,"ion-item",6),c(17,"ion-icon",9),t(18,"ion-input",10),_("ngModelChange",function(l){return h(e.password,l)||(e.password=l),l}),n()(),t(19,"ion-button",11),p("click",function(){return e.login()}),w(20,H,2,0,"span",12)(21,A,2,0,"span",12),n(),t(22,"div",13)(23,"p"),s(24,"Don't have an account? "),t(25,"span",14),p("click",function(){return e.goToRegister()}),s(26,"Create one"),n()()()()(),t(27,"ion-toast",15),p("didDismiss",function(){return e.showToast=!1}),n()()),a&2&&(g(15),f("ngModel",e.email),g(3),f("ngModel",e.password),g(),m("disabled",e.isLoading),g(),m("ngIf",!e.isLoading),g(),m("ngIf",e.isLoading),g(6),m("isOpen",e.showToast)("message",e.toastMessage)("duration",3e3)("color",e.toastColor))},dependencies:[b,C,L,v,D,x,k,N,E,W,S,O,B,I,T,y],styles:[".login-content[_ngcontent-%COMP%]{--background: #f5f5f5}.login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100%;padding:2rem 1rem}.login-form[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;width:100%;max-width:400px;box-shadow:0 4px 12px #0000001a}.login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#2e7d32;font-size:1.8rem;font-weight:600;margin-bottom:.5rem}.login-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:2rem}.input-item[_ngcontent-%COMP%]{margin-bottom:1rem;--border-radius: 12px;--background: #f8f9fa}.input-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2e7d32;margin-right:12px}.login-button[_ngcontent-%COMP%]{--background: #2e7d32;--color: #ffffff;--border-radius: 12px;margin-top:1rem;font-weight:600;height:48px}.login-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:1rem}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600;cursor:pointer}"]});let r=o;return r})();export{ee as LoginPage};
