import{E as ae,a as ne,f as ie,p as oe,s as re}from"./chunk-OSMB4DQJ.js";import{A as I,Aa as ee,B as y,Ba as te,D as F,G as L,H as x,I as k,K as E,L as W,N,R as A,V as B,W as D,X as j,c as T,ca as H,d as M,ea as R,fa as U,g as P,ga as V,h as S,ha as q,i as a,ia as z,j as C,k as O,ka as J,l as m,m as d,ma as Y,n as o,na as G,o as r,oa as K,p as v,q as b,qa as Q,r as g,s as w,ta as X,v as s,va as Z,w as _,x as f,ya as $,z as u}from"./chunk-6NGTZMOM.js";import"./chunk-447CKG3T.js";import"./chunk-CDZFCBFW.js";import"./chunk-E2CLONXR.js";import"./chunk-KRDHHS7Z.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var se=(()=>{let i=class i{constructor(t){this.http=t,this.apiUrl="http://localhost:8000"}getAvailableInternships(){return this.http.get(`${this.apiUrl}/internships/get_available_internships.php`)}};i.\u0275fac=function(p){return new(p||i)(M(N))},i.\u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function ce(e,i){if(e&1&&(o(0,"ion-select-option",18),s(1),r()),e&2){let l=i.$implicit;d("value",l),a(),f(" ",l," ")}}function de(e,i){if(e&1&&(o(0,"ion-select-option",18),s(1),r()),e&2){let l=i.$implicit;d("value",l),a(),f(" ",l.replace("_"," ")," ")}}function he(e,i){e&1&&(o(0,"div",19)(1,"p"),s(2,"Loading internships..."),r()())}function me(e,i){e&1&&(o(0,"div",20)(1,"p"),s(2,"No internships match your search criteria."),r()())}function ge(e,i){e&1&&(o(0,"div",21)(1,"p"),s(2,"No internships available at the moment."),r()())}function _e(e,i){if(e&1&&(o(0,"div",30)(1,"ion-chip",1)(2,"ion-label"),s(3),r()()()),e&2){let l=w().$implicit;a(3),_(l.work_type)}}function fe(e,i){if(e&1){let l=b();o(0,"ion-card",22)(1,"ion-card-header")(2,"ion-card-title"),s(3),r()(),o(4,"ion-card-content")(5,"div",23),v(6,"ion-icon",24),o(7,"span"),s(8),r()(),o(9,"div",25),v(10,"ion-icon",26),o(11,"span"),s(12),r()(),m(13,_e,4,1,"div",27),o(14,"p",28),s(15),F(16,"slice"),r(),o(17,"ion-button",29),g("click",function(){let p=P(l).$implicit,n=w();return S(n.viewDetails(p))}),s(18," View Details "),r()()()}if(e&2){let l=i.$implicit;a(3),_(l.title),a(5),_(l.name),a(4),_(l.location),a(),d("ngIf",l.work_type),a(2),f("",L(16,5,l.description,0,100),"...")}}var Se=(()=>{let i=class i{constructor(t,p){this.internshipService=t,this.router=p,this.internships=[],this.filteredInternships=[],this.isLoading=!0,this.searchTerm="",this.locationFilter="",this.workTypeFilter="",ne({locationOutline:re,timeOutline:ae,businessOutline:ie,filterOutline:oe})}ngOnInit(){this.loadInternships()}loadInternships(){this.internshipService.getAvailableInternships().subscribe({next:t=>{console.log("API Response:",t),this.internships=Array.isArray(t)?t:[],this.filteredInternships=[...this.internships],console.log("Internships loaded:",this.internships.length),this.isLoading=!1},error:t=>{console.error("Error loading internships:",t),this.isLoading=!1}})}onSearchChange(t){this.searchTerm=t.detail.value,this.applyFilters()}onLocationChange(){this.applyFilters()}onWorkTypeChange(){this.applyFilters()}applyFilters(){this.filteredInternships=this.internships.filter(t=>{let p=!this.searchTerm||t.title.toLowerCase().includes(this.searchTerm.toLowerCase())||t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||t.description.toLowerCase().includes(this.searchTerm.toLowerCase()),n=!this.locationFilter||t.location.toLowerCase().includes(this.locationFilter.toLowerCase()),h=!this.workTypeFilter||t.work_type===this.workTypeFilter;return p&&n&&h})}getUniqueLocations(){let t=this.internships.map(p=>p.location).filter(Boolean);return[...new Set(t)]}getWorkTypes(){return["REMOTE","ON_SITE","HYBRID"]}viewDetails(t){this.router.navigate(["/internship-details"],{queryParams:{data:JSON.stringify(t)}})}};i.\u0275fac=function(p){return new(p||i)(C(se),C(A))},i.\u0275cmp=O({type:i,selectors:[["app-internships"]],decls:27,vars:11,consts:[[3,"translucent"],["color","primary"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"internships-content"],[1,"filters-section"],["placeholder","Search internships...","show-clear-button","focus",3,"ngModelChange","ionInput","ngModel"],[1,"filter-row"],[1,"filter-item"],["placeholder","Location","interface","popover",3,"ngModelChange","ionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Work Type","interface","popover",3,"ngModelChange","ionChange","ngModel"],["class","loading-message",4,"ngIf"],["class","no-results",4,"ngIf"],["class","no-internships",4,"ngIf"],["class","internship-card",4,"ngFor","ngForOf"],[3,"value"],[1,"loading-message"],[1,"no-results"],[1,"no-internships"],[1,"internship-card"],[1,"company-info"],["name","business-outline"],[1,"location-info"],["name","location-outline"],["class","work-type",4,"ngIf"],[1,"description"],["expand","block","color","primary",3,"click"],[1,"work-type"]],template:function(p,n){p&1&&(o(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),s(3," Internships "),r()()(),o(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),s(8,"Internships"),r()()(),o(9,"div",5)(10,"div",6)(11,"ion-searchbar",7),y("ngModelChange",function(c){return I(n.searchTerm,c)||(n.searchTerm=c),c}),g("ionInput",function(c){return n.onSearchChange(c)}),r(),o(12,"div",8)(13,"ion-item",9)(14,"ion-select",10),y("ngModelChange",function(c){return I(n.locationFilter,c)||(n.locationFilter=c),c}),g("ionChange",function(){return n.onLocationChange()}),o(15,"ion-select-option",11),s(16,"All Locations"),r(),m(17,ce,2,2,"ion-select-option",12),r()(),o(18,"ion-item",9)(19,"ion-select",13),y("ngModelChange",function(c){return I(n.workTypeFilter,c)||(n.workTypeFilter=c),c}),g("ionChange",function(){return n.onWorkTypeChange()}),o(20,"ion-select-option",11),s(21,"All Types"),r(),m(22,de,2,2,"ion-select-option",12),r()()()(),m(23,he,3,0,"div",14)(24,me,3,0,"div",15)(25,ge,3,0,"div",16)(26,fe,19,9,"ion-card",17),r()()),p&2&&(d("translucent",!0),a(4),d("fullscreen",!0),a(7),u("ngModel",n.searchTerm),a(3),u("ngModel",n.locationFilter),a(3),d("ngForOf",n.getUniqueLocations()),a(2),u("ngModel",n.workTypeFilter),a(3),d("ngForOf",n.getWorkTypes()),a(),d("ngIf",n.isLoading),a(),d("ngIf",!n.isLoading&&n.filteredInternships.length===0&&n.internships.length>0),a(),d("ngIf",!n.isLoading&&n.internships.length===0),a(),d("ngForOf",n.filteredInternships))},dependencies:[W,x,k,j,B,D,Y,Z,X,J,R,V,q,U,H,$,z,K,ee,te,Q,G,E],styles:[".internships-content[_ngcontent-%COMP%]{padding:1rem}.filters-section[_ngcontent-%COMP%]{margin-bottom:1rem}.filter-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.filter-item[_ngcontent-%COMP%]{flex:1;--padding-start: 0;--inner-padding-end: 0}.no-results[_ngcontent-%COMP%], .loading-message[_ngcontent-%COMP%], .no-internships[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.internship-card[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.internship-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600;font-size:1.2rem}.company-info[_ngcontent-%COMP%], .location-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem;color:#666}.company-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .location-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:.5rem;color:#2e7d32}.work-type[_ngcontent-%COMP%]{margin:.5rem 0}.description[_ngcontent-%COMP%]{color:#666;line-height:1.4;margin:1rem 0}ion-button[_ngcontent-%COMP%]{--border-radius: 8px;margin-top:1rem}"]});let e=i;return e})();export{Se as InternshipsPage};
