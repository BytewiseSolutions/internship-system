<div class="company-dashboard" [class.sidebar-collapsed]="isSidebarCollapsed">
    <app-company-sidebar (collapsedChange)="onSidebarCollapseChanged($event)">
    </app-company-sidebar>

    <main class="main-content">
        <app-company-header [isSidebarCollapsed]="isSidebarCollapsed"></app-company-header>
        <div class="dashboard-cards">
            <div class="card text-center shadow-sm">
                <i class="fas fa-briefcase fa-2x mb-2 text-primary"></i>
                <h5>Total Internships</h5>
                <p class="display-6">{{ totalInternships }}</p>
            </div>

            <div class="card text-center shadow-sm">
                <i class="fas fa-user-graduate fa-2x mb-2 text-success"></i>
                <h5>Total Applications</h5>
                <p class="display-6">{{ totalApplications }}</p>
            </div>

            <div class="card text-center shadow-sm">
                <i class="fas fa-star fa-2x mb-2 text-warning"></i>
                <h5>Reviews</h5>
                <p class="display-6">{{ totalReviews }}</p>
            </div>

            <div class="card text-center shadow-sm">
                <i class="fas fa-check-circle fa-2x mb-2 text-info"></i>
                <h5>Approved Students</h5>
                <p class="display-6">{{ approvedStudents }}</p>
            </div>
        </div>
        <section class="recent-section">
            <h3>Recent Internships</h3>
            <table class="custom-table" *ngIf="recentInternships.length">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Location</th>
                        <th>Deadline</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let internship of recentInternships">
                        <td>{{ internship.title }}</td>
                        <td>{{ internship.location }}</td>
                        <td>{{ internship.deadline | date }}</td>
                        <td>{{ internship.status }}</td>
                    </tr>
                </tbody>
            </table>
            <p *ngIf="recentInternships.length === 0" class="no-data">No recent internships found.</p>
        </section>

        <section class="recent-section">
            <h3>Recent Applications</h3>
            <table class="custom-table" *ngIf="recentApplications.length">
                <thead>
                    <tr>
                        <th>Student Name</th>
                        <th>Internship</th>
                        <th>Status</th>
                        <th>Applied On</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let application of recentApplications">
                        <td>{{ application.student_name }}</td>
                        <td>{{ application.internship_title }}</td>
                        <td>
                            <span [ngClass]="{
                'text-success': application.status === 'APPROVED',
                'text-warning': application.status === 'PENDING',
                'text-danger': application.status === 'REJECTED'
              }">
                                {{ application.status }}
                            </span>
                        </td>
                        <td>{{ application.created_at | date:'mediumDate' }}</td>
                    </tr>
                </tbody>
            </table>
            <p *ngIf="recentApplications.length === 0" class="no-data">No recent applications found.</p>
        </section>
    </main>
</div>