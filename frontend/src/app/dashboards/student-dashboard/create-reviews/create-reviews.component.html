<div class="create-reviews">
    <div class="container">
        <!-- Header Section -->
        <div class="header-section">
            <h1 class="page-title">Submit Internship Review</h1>
            <p class="page-subtitle">Share your experience and help other students make informed decisions</p>
        </div>

        <!-- Empty State -->
        <div *ngIf="internships.length === 0" class="empty-state">
            <div class="empty-icon">
                <i class="fas fa-briefcase"></i>
            </div>
            <h3>No Internships to Review</h3>
            <p>You don't have any completed internships available for review at the moment.</p>
            <div class="empty-actions">
                <p>Once you complete an internship, you'll be able to share your experience here.</p>
            </div>
        </div>

        <!-- Review Form -->
        <div *ngIf="internships.length > 0" class="review-form-section">
            <div class="form-card">
                <div class="form-header">
                    <h3>Share Your Experience</h3>
                    <p>Your feedback helps improve the internship experience for everyone</p>
                </div>

                <form class="review-form" (ngSubmit)="submitReview()">
                    <!-- Internship Selection -->
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-building"></i>
                            Select Internship
                            <span class="required">*</span>
                        </label>
                        <select [(ngModel)]="selectedInternshipId" name="internship" class="form-select">
                            <option value="">Choose an internship to review...</option>
                            <option *ngFor="let i of internships" [value]="i.internship_id">
                                {{ i.internship_title }}
                            </option>
                        </select>
                        <small class="form-hint">Select the internship you want to review</small>
                    </div>

                    <!-- Rating Selection -->
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-star"></i>
                            Rating
                            <span class="required">*</span>
                        </label>

                        <!-- Star Rating -->
                        <div class="star-rating">
                            <div class="stars-container">
                                <span *ngFor="let star of [1,2,3,4,5]" class="star" [class.active]="star <= rating"
                                    (click)="rating = star">
                                    <i class="fas" [class.fa-star]="star <= rating" [class.fa-star]="star > rating"></i>
                                </span>
                            </div>
                            <div class="rating-text">
                                <span *ngIf="rating === 0">Select a rating</span>
                                <span *ngIf="rating === 1" class="rating-poor">Poor - Very dissatisfied</span>
                                <span *ngIf="rating === 2" class="rating-fair">Fair - Somewhat dissatisfied</span>
                                <span *ngIf="rating === 3" class="rating-average">Average - Neutral experience</span>
                                <span *ngIf="rating === 4" class="rating-good">Good - Satisfied</span>
                                <span *ngIf="rating === 5" class="rating-excellent">Excellent - Very satisfied</span>
                            </div>
                        </div>

                        <!-- Alternative Dropdown -->
                        <select [(ngModel)]="rating" name="rating" class="form-select alt-rating">
                            <option value="">Or select from dropdown...</option>
                            <option *ngFor="let r of [1,2,3,4,5]" [value]="r">
                                {{ r }} Star{{ r !== 1 ? 's' : '' }} - {{ getRatingText(r) }}
                            </option>
                        </select>
                    </div>

                    <!-- Comment Section -->
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-comment"></i>
                            Your Review
                            <span class="required">*</span>
                        </label>
                        <textarea [(ngModel)]="comment" name="comment" rows="6"
                            placeholder="Share your experience with this internship... What did you like? What could be improved? What skills did you gain?"
                            class="form-textarea"></textarea>
                        <div class="textarea-info">
                            <span class="char-count">{{ comment.length }}/500 characters</span>
                            <small class="form-hint">Be honest and constructive in your feedback</small>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" (click)="resetForm()">
                            <i class="fas fa-redo"></i>
                            Reset Form
                        </button>
                        <button type="submit" class="btn-primary" [disabled]="!isFormValid()">
                            <i class="fas fa-paper-plane"></i>
                            Submit Review
                        </button>
                    </div>
                </form>
            </div>

            <!-- Review Guidelines -->
            <div class="guidelines-card">
                <h4>
                    <i class="fas fa-lightbulb"></i>
                    Review Guidelines
                </h4>
                <ul class="guidelines-list">
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <strong>Be Honest:</strong> Share your genuine experience
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <strong>Be Specific:</strong> Mention particular projects or skills gained
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <strong>Be Constructive:</strong> Offer helpful suggestions for improvement
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <strong>Be Professional:</strong> Avoid personal attacks or offensive language
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <strong>Be Respectful:</strong> Focus on the experience, not individuals
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>