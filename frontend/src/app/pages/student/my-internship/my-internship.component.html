<div class="my-internship" [class.sidebar-collapsed]="isSidebarCollapsed">
    <app-student-sidebar (collapsedChange)="onSidebarCollapseChanged($event)"></app-student-sidebar>
    
    <main class="main-content">
        <app-student-header [isSidebarCollapsed]="isSidebarCollapsed"></app-student-header>
        
        <div class="content">
            <div class="page-header">
                <h1><i class="fas fa-briefcase"></i> My Internship</h1>
                <p>View details about your current internship placement</p>
            </div>
            
            <div *ngIf="loading" class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading internship details...</p>
            </div>
            
            <div *ngIf="error" class="error">
                <i class="fas fa-exclamation-triangle"></i>
                <p>{{ error }}</p>
            </div>
            
            <div *ngIf="!loading && !error && !internship" class="no-internship">
                <i class="fas fa-search"></i>
                <h3>No Active Internship</h3>
                <p>You don't have an accepted internship yet.</p>
                <div class="action-buttons">
                    <a routerLink="/browse-internships" class="btn btn-primary">
                        <i class="fas fa-search"></i> Browse Internships
                    </a>
                    <a routerLink="/my-applications" class="btn btn-secondary">
                        <i class="fas fa-file-alt"></i> View Applications
                    </a>
                </div>
            </div>
            
            <div *ngIf="!loading && !error && internship" class="internship-details">
                <div class="internship-header">
                    <div class="company-section">
                        <div class="company-logo">
                            <div class="logo-placeholder">
                                {{ internship.company_name.charAt(0) }}
                            </div>
                        </div>
                        <div class="company-info">
                            <h2>{{ internship.company_name }}</h2>
                            <h3>{{ internship.internship_title }}</h3>
                            <div class="location">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>{{ internship.location }}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="status-badge accepted">
                        <i class="fas fa-check-circle"></i>
                        Accepted
                    </div>
                </div>
                
                <div class="progress-section">
                    <div class="progress-header">
                        <h4>Internship Progress</h4>
                        <span class="progress-text">{{ getProgress().toFixed(0) }}% Complete</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" [style.width.%]="getProgress()"></div>
                    </div>
                    <div class="progress-info">
                        <span>Applied: {{ formatDate(internship.applied_at) }}</span>
                        <span *ngIf="getDaysRemaining() > 0" class="days-remaining">
                            {{ getDaysRemaining() }} days to deadline
                        </span>
                        <span *ngIf="getDaysRemaining() <= 0" class="completed">
                            Deadline passed
                        </span>
                        <span>Deadline: {{ formatDate(internship.deadline) }}</span>
                    </div>
                </div>
                
                <div class="details-grid">
                    <div class="detail-card">
                        <h4><i class="fas fa-info-circle"></i> Description</h4>
                        <p>{{ internship.internship_description }}</p>
                    </div>
                    
                    <div class="detail-card">
                        <h4><i class="fas fa-calendar"></i> Timeline</h4>
                        <div class="duration-info">
                            <div class="info-item">
                                <span class="label">Applied:</span>
                                <span>{{ formatDate(internship.applied_at) }}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Deadline:</span>
                                <span>{{ formatDate(internship.deadline) }}</span>
                            </div>
                            <div class="info-item">
                                <span class="label">Status:</span>
                                <span class="status-accepted">{{ internship.status | titlecase }}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4><i class="fas fa-building"></i> Company Contact</h4>
                        <div class="contact-info">
                            <div *ngIf="internship.company_address" class="contact-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>{{ internship.company_address }}</span>
                            </div>
                            <div *ngIf="internship.company_email" class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <a [href]="'mailto:' + internship.company_email">{{ internship.company_email }}</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="action-section">
                    <a routerLink="/logbook" class="btn btn-primary">
                        <i class="fas fa-book"></i> View Logbook
                    </a>
                    <a routerLink="/my-applications" class="btn btn-secondary">
                        <i class="fas fa-file-alt"></i> View All Applications
                    </a>
                </div>
            </div>
        </div>
    </main>
</div>