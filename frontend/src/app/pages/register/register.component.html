<div class="auth-container">
    <div class="back-to-home">
        <a routerLink="/" class="home-link">← Back to Home</a>
    </div>
    <h2>Student Registration</h2>

    <div *ngIf="showMessage" [ngClass]="{ 'success-msg': isSuccess, 'error-msg': !isSuccess }">
        {{ message }}
    </div>

    <form (ngSubmit)="register()">
        <input type="text" placeholder="Full Name" [(ngModel)]="student.name" name="name" required />
        <input type="email" placeholder="Email" [(ngModel)]="student.email" name="email" required />
        <input type="text" placeholder="Contact Number" [(ngModel)]="student.contact" name="contact" required />
        
        <select [(ngModel)]="student.school_id" name="school_id" (change)="onSchoolChange()" required>
            <option value="">Select School</option>
            <option *ngFor="let school of schools" [value]="school.school_id">{{ school.name }}</option>
        </select>
        
        <select [(ngModel)]="student.course_id" name="course_id" required [disabled]="!student.school_id">
            <option value="">Select Course</option>
            <option *ngFor="let course of courses" [value]="course.course_id">{{ course.course_name }}</option>
        </select>
        
        <input type="password" placeholder="Password" [(ngModel)]="student.password" name="password" required />

        <button type="submit" [disabled]="loading">
            <span *ngIf="!loading">Register</span>
            <span *ngIf="loading" class="spinner"></span>
        </button>
    </form>

    <p class="register-link">
        Already have an account?
        <a routerLink="/login">Login here</a>
    </p>
    
    <p class="home-link-bottom">
        <a routerLink="/">← Back to Home</a>
    </p>
</div>